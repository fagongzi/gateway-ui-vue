(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1741"],{JrDX:function(t,e,n){"use strict";n.r(e);var s=n("hZMg"),a={name:"systemIndex",data:function(){return{backupAddress:"",doingBackup:!1}},mixins:[n("UBPn").a],watch:{$route:function(t,e){"systemIndex"!=t.name&&this.$destroy()}},methods:{doBackup:function(){var t=this;if(!this.backupAddress||this.doingBackup)return!1;this.$confirm(this.i18n("system.confirmTips"),this.i18n("tips.tip"),{confirmButtonText:this.i18n("btn.confirm"),cancelButtonText:this.i18n("btn.cancel"),type:"warning"}).then(function(){t._doBackup()})},_doBackup:function(){var t=this,e={toAddr:this.backupAddress};this.doingBackup=!0,s.a(e).then(function(e){t.$message({type:"success",message:"备份成功!"}),t.backupAddress="",t.doingBackup=!1}).catch(function(){t.doingBackup=!1})}}},r=(n("eh4o"),n("KHd+")),i=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"box-card",staticStyle:{width:"500px"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-alert",{attrs:{title:t.i18n("system.tips"),type:"error",closable:!1}})],1),t._v(" "),n("el-row",{attrs:{gutter:10}},[n("el-col",{staticStyle:{"line-height":"40px"},attrs:{span:6}},[t._v(t._s(t.i18n("system.backupAddress")))]),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{placeholder:"ip:port"},model:{value:t.backupAddress,callback:function(e){t.backupAddress=e},expression:"backupAddress"}})],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{loading:t.doingBackup,type:"primary"},on:{click:t.doBackup}},[t._v(t._s(t.i18n("btn.backup")))])],1)],1)],1)],1)},[],!1,null,"318ba9c6",null);i.options.__file="index.vue";e.default=i.exports},UBPn:function(t,e,n){"use strict";var s=n("7Qib");e.a={methods:{i18n:s.i}}},bUvO:function(t,e,n){},eh4o:function(t,e,n){"use strict";var s=n("bUvO");n.n(s).a},hZMg:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var s=n("t3Un"),a="/system";function r(t){return Object(s.a)({url:a+"/backup",method:"POST",data:t})}function i(){return Object(s.a)({url:a,method:"GET"})}},t3Un:function(t,e,n){"use strict";var s=n("4d7F"),a=n.n(s),r=n("vDqi"),i=n.n(r),c=n("XJYT"),o=i.a.create({baseURL:"/v1",timeout:6e4});o.interceptors.request.use(function(t){return t},function(t){console.error(t),a.a.reject(t)}),o.interceptors.response.use(function(t){var e=t.data||{};t.headers;return 0===e.code?e.data:(Object(c.Message)({message:e.data,type:"error",duration:5e3}),a.a.reject("error"))},function(t){return Object(c.Message)({message:t.response&&t.response.data&&t.response.data.data||"网络异常",type:"error",duration:5e3}),a.a.reject(t)}),e.a=o}}]);